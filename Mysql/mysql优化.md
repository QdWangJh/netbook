###  查看sql执行频率

```sql
显示当前 session 中所有统计参数的值
show session status like 'Com_______';
-- 查看当前会话统计结果

show global status like 'Com_______';
-- 查看自数据库上次启动至今统计结果

show status like 'Innodb_rows%'
-- 查看针对Innodb引擎统计结果
```

### explain

```sql
在 select 之前加 explain 可以查看当前语句是否适用索引
```



### 索引优化

- 避免索引失效

    - 全值匹配

    查询的条件字段与索引相匹配,顺序可以不同

    - 最左前缀法则

    组合索引中,查询时必须包含组合索引中最左侧的索引(第一个) 否则索引失效

    如果包含最左侧的索引,跳过中间某个索引则只有左侧连续的索引生效



### 优化子查询

多表关联(join)查询比子查询效率高

 因为子查询会把查出的表生成临时表查询,

join的话是直接从表中查询



### 优化limit

取表中某一段数据时比如:

limit 900000,10 mysql会排序前9000010条数据,仅仅返回10条记录 其他记录丢弃,查询排序的代价比较大



优化一:

在索引上完成排序分页,根据返回的索引字段关联取出需要的其他内容



优化二:

该方案适用于主键自增的表,可以把limit查询转换成基于自增字段的查询